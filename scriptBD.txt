CREATE DATABASE FormulaDB;

USE FormulaDB;


-- Criação da tabela Pais
CREATE TABLE Pais (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    continente VARCHAR(255),
    populacao BIGINT
);

-- Criação da tabela Cidade
CREATE TABLE Cidade (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    estado VARCHAR(255),
    populacao BIGINT,
    pais_id BIGINT,
    FOREIGN KEY (pais_id) REFERENCES Pais(id),
    FOREIGN KEY (pais_id) REFERENCES Pais(id)
);

-- Criação da tabela Equipe
CREATE TABLE Equipe (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nomeEquipe VARCHAR(255),
    qtdeFunc INT,
    pais_id BIGINT,
    FOREIGN KEY (pais_id) REFERENCES Pais(id)
);

-- Criação da tabela Piloto
CREATE TABLE Piloto (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    numSuperlicenca VARCHAR(255),
    dataDeNascimento DATE,
    equipe_id BIGINT,
    FOREIGN KEY (equipe_id) REFERENCES Equipe(id)
);

-- Criação da tabela Carro
CREATE TABLE Carro (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    modelo VARCHAR(255),
    marca VARCHAR(255),
    ano INT,
    categoria VARCHAR(255),
    equipe_id BIGINT,
    piloto_id BIGINT,
    FOREIGN KEY (equipe_id) REFERENCES Equipe(id),
    FOREIGN KEY (piloto_id) REFERENCES Piloto(id)
);

-- Criação da tabela Corrida
CREATE TABLE Corrida (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    data DATE,
    circuito VARCHAR(255),
    condicoesClimaticas VARCHAR(255),
    cidade_id BIGINT,
    FOREIGN KEY (cidade_id) REFERENCES Cidade(id)
);

-- Tabela para gerenciar a relação muitos-para-muitos entre Equipe e Corrida
CREATE TABLE Equipe_Corrida (
    equipe_id BIGINT,
    corrida_id BIGINT,
    PRIMARY KEY (equipe_id, corrida_id),
    FOREIGN KEY (equipe_id) REFERENCES Equipe(id),
    FOREIGN KEY (corrida_id) REFERENCES Corrida(id)
);
